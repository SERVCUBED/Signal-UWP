<?xml version="1.0" encoding="utf-8"?>
<Package xmlns="http://schemas.microsoft.com/appx/manifest/foundation/windows10" xmlns:mp="http://schemas.microsoft.com/appx/2014/phone/manifest" xmlns:uap="http://schemas.microsoft.com/appx/manifest/uap/windows10" xmlns:r="http://schemas.microsoft.com/appx/manifest/foundation/windows10/restrictedcapabilites" IgnorableNamespaces="uap mp r build" xmlns:build="http://schemas.microsoft.com/developer/appx/2015/build">
  <!--
    THIS PACKAGE MANIFEST FILE IS GENERATED BY THE BUILD PROCESS.

    Changes to this file will be lost when it is regenerated. To correct errors in this file, edit the source .appxmanifest file.

    For more information on package manifest files, see http://go.microsoft.com/fwlink/?LinkID=241727
  -->
  <Identity Name="39705SimonDieterle.TextSecure" Publisher="CN=D7D38CBF-3113-497A-88DB-52B717888A39" Version="1.1.0.0" ProcessorArchitecture="x86" />
  <mp:PhoneIdentity PhoneProductId="e13539c9-2506-4444-bf9d-ddbe92b4a5c8" PhonePublisherId="00000000-0000-0000-0000-000000000000" />
  <Properties>
    <DisplayName>TextSecure</DisplayName>
    <PublisherDisplayName>Simon Dieterle</PublisherDisplayName>
    <Logo>Assets\StoreLogo.png</Logo>
  </Properties>
  <Dependencies>
    <TargetDeviceFamily Name="Windows.Universal" MinVersion="10.0.10240.0" MaxVersionTested="10.0.10240.0" />
  </Dependencies>
  <Resources>
    <Resource Language="EN-US" />
  </Resources>
  <Applications>
    <Application Id="App" Executable="Signal.exe" EntryPoint="TextSecure.App">
      <uap:VisualElements DisplayName="TextSecure" Square150x150Logo="Assets\Square150x150Logo.png" Square44x44Logo="Assets\Square44x44Logo.png" Description="TextSecure" BackgroundColor="transparent">
        <uap:DefaultTile Wide310x150Logo="Assets\Wide310x150Logo.png"></uap:DefaultTile>
        <uap:SplashScreen Image="Assets\SplashScreen.png" />
        <uap:InitialRotationPreference>
          <uap:Rotation Preference="portrait" />
        </uap:InitialRotationPreference>
      </uap:VisualElements>
      <Extensions>
        <uap:Extension Category="windows.protocol" EntryPoint="Views.ProvisionDeviceView">
          <uap:Protocol Name="tsdevice">
            <uap:Logo>Assets\StoreLogo.png</uap:Logo>
            <uap:DisplayName>TextSecure</uap:DisplayName>
          </uap:Protocol>
        </uap:Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="SignalTasks.PushReceiverTask">
          <BackgroundTasks>
            <Task Type="pushNotification" />
          </BackgroundTasks>
        </Extension>
        <Extension Category="windows.backgroundTasks" EntryPoint="SignalTasks.SmsReceiverTask">
          <BackgroundTasks>
            <Task Type="general" />
          </BackgroundTasks>
        </Extension>
      </Extensions>
    </Application>
  </Applications>
  <Capabilities>
    <Capability Name="internetClient" />
    <uap:Capability Name="contacts" />
    <r:Capability Name="cellularMessaging" />
  </Capabilities>
  <Extensions>
    <!-- Required for curve25519 (for now). Would like NuGet to do this one day automatically. For now, it's manual. -->
    <Extension Category="windows.activatableClass.inProcessServer">
      <InProcessServer>
        <Path>curve25519.dll</Path>
        <ActivatableClass ActivatableClassId="curve25519.Curve25519Native" ThreadingModel="both" />
      </InProcessServer>
    </Extension>
    <Extension Category="windows.activatableClass.inProcessServer">
      <InProcessServer>
        <Path>CLRHost.dll</Path>
        <ActivatableClass ActivatableClassId="SignalTasks.PushReceiverTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="SignalTasks.SmsReceiverTask" ThreadingModel="both" />
        <ActivatableClass ActivatableClassId="SignalTasks.Class1" ThreadingModel="both" />
      </InProcessServer>
    </Extension>
  </Extensions>
  <build:Metadata>
    <build:Item Name="TargetFrameworkMoniker" Value=".NETCore,Version=v5.0" />
    <build:Item Name="VisualStudio" Version="14.0" />
    <build:Item Name="VisualStudioEdition" Value="Microsoft Visual Studio Community 2015" />
    <build:Item Name="OperatingSystem" Version="10.0.10240.16384 (th1.150709-1700)" />
    <build:Item Name="Microsoft.Build.AppxPackage.dll" Version="14.0.23121.0" />
    <build:Item Name="ProjectGUID" Value="{995AB3EB-5AD4-4CC6-8B5F-41A856EC2A1D}" />
    <build:Item Name="OptimizingToolset" Value="None" />
    <build:Item Name="TargetRuntime" Value="Managed" />
    <build:Item Name="Microsoft.Windows.UI.Xaml.Build.Tasks.dll" Version="14.0.23121.0" />
    <build:Item Name="BehaviorsXamlSDKManaged" Version="12.0" />
    <build:Item Name="MakePri.exe" Version="10.0.10240.16384 (th1.150709-1700)" />
  </build:Metadata>
</Package>